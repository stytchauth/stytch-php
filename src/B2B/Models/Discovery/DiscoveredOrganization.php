<?php

// !!!
// WARNING: This file is autogenerated
// Only modify code within MANUAL() sections
// or your changes may be overwritten later!
// !!!

namespace Stytch\B2B\Models\Discovery;

class DiscoveredOrganization
{
    /**
    * Indicates whether the Member has all of the factors needed to fully authenticate to this Organization.
    * If false, the Member may need to complete an MFA step or complete a different primary authentication
    * flow. See the `primary_required` and `mfa_required` fields for more details on each.
     */
    public bool $memberAuthenticated;
    /** The [Organization object](https://stytch.com/docs/b2b/api/organization-object). */
    public ?\Stytch\B2B\Models\Organizations\Organization $organization = null;
    /** Information about the membership. */
    public ?Membership $membership = null;
    /** Information about the primary authentication requirements of the Organization. */
    public ?\Stytch\B2B\Models\Sessions\PrimaryRequired $primaryRequired = null;
    /** Information about the MFA requirements of the Organization and the Member's options for fulfilling MFA. */
    public ?\Stytch\B2B\Models\MfaRequired $mfaRequired = null;

    public function __construct(
        bool $memberAuthenticated,
        ?\Stytch\B2B\Models\Organizations\Organization $organization = null,
        ?Membership $membership = null,
        ?\Stytch\B2B\Models\Sessions\PrimaryRequired $primaryRequired = null,
        ?\Stytch\B2B\Models\MfaRequired $mfaRequired = null
    ) {
        $this->memberAuthenticated = $memberAuthenticated;
        $this->organization = $organization;
        $this->membership = $membership;
        $this->primaryRequired = $primaryRequired;
        $this->mfaRequired = $mfaRequired;
    }

    /**
     * Create an instance from an array
     *
     * @param array $data
     * @return static
     */
    public static function fromArray(array $data): static
    {
        return new static(
            $data['member_authenticated'],
            $data['organization'] !== null ? \Stytch\B2B\Models\Organizations\Organization::fromArray($data['organization']) : null,
            $data['membership'] !== null ? Membership::fromArray($data['membership']) : null,
            $data['primary_required'] !== null ? \Stytch\B2B\Models\Sessions\PrimaryRequired::fromArray($data['primary_required']) : null,
            $data['mfa_required'] !== null ? \Stytch\B2B\Models\MfaRequired::fromArray($data['mfa_required']) : null
        );
    }

    /**
     * Convert to array
     *
     * @return array
     */
    public function toArray(): array
    {
        return [
            'member_authenticated' => $this->memberAuthenticated,
            'organization' => $this->organization,
            'membership' => $this->membership,
            'primary_required' => $this->primaryRequired,
            'mfa_required' => $this->mfaRequired,
        ];
    }
}
