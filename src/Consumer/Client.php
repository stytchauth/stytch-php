<?php

// !!!
// WARNING: This file is autogenerated
// Only modify code within MANUAL() sections
// or your changes may be overwritten later!
// !!!

namespace Stytch\Consumer;

use Stytch\Core\Client as CoreClient;
use Stytch\Shared\PolicyCache;
use Stytch\Consumer\Api\ConnectedApp;
use Stytch\Consumer\Api\CryptoWallets;
use Stytch\Consumer\Api\Fraud;
use Stytch\Consumer\Api\IDP;
use Stytch\Consumer\Api\Impersonation;
use Stytch\Consumer\Api\M2M;
use Stytch\Consumer\Api\MagicLinks;
use Stytch\Consumer\Api\OAuth;
use Stytch\Consumer\Api\OTPs;
use Stytch\Consumer\Api\Passwords;
use Stytch\Consumer\Api\Project;
use Stytch\Consumer\Api\RBAC;
use Stytch\Consumer\Api\Sessions;
use Stytch\Consumer\Api\TOTPs;
use Stytch\Consumer\Api\Users;
use Stytch\Consumer\Api\WebAuthn;

/**
 * Stytch API PHP client.
 *
 * Learn more at https://stytch.com/docs
 */
class Client
{
    private CoreClient $client;
    private string $projectId;
    private PolicyCache $policyCache;

    public ConnectedApp $connected_app;
    public CryptoWallets $crypto_wallets;
    public Fraud $fraud;
    public IDP $idp;
    public Impersonation $impersonation;
    public M2M $m2m;
    public MagicLinks $magic_links;
    public OAuth $oauth;
    public OTPs $otps;
    public Passwords $passwords;
    public Project $project;
    public RBAC $rbac;
    public Sessions $sessions;
    public TOTPs $totps;
    public Users $users;
    public WebAuthn $webauthn;

    public function __construct(
        string $projectId,
        string $secret,
        string $environment = null,
        string $fraudEnvironment = null,
        string $customBaseUrl = null
    ) {
        $this->projectId = $projectId;
        $this->client = new CoreClient($projectId, $secret, $environment, $fraudEnvironment, $customBaseUrl);

        $this->policyCache = new PolicyCache();

        $this->connected_app = new ConnectedApp($this->client);
        $this->crypto_wallets = new CryptoWallets($this->client);
        $this->fraud = new Fraud($this->client);
        $this->idp = new IDP($this->client, $this->projectId, $this->policyCache);
        $this->impersonation = new Impersonation($this->client);
        $this->m2m = new M2M($this->client, $this->projectId);
        $this->magic_links = new MagicLinks($this->client);
        $this->oauth = new OAuth($this->client);
        $this->otps = new OTPs($this->client);
        $this->passwords = new Passwords($this->client);
        $this->project = new Project($this->client);
        $this->rbac = new RBAC($this->client);
        $this->sessions = new Sessions($this->client, $this->projectId, $this->policyCache);
        $this->totps = new TOTPs($this->client);
        $this->users = new Users($this->client);
        $this->webauthn = new WebAuthn($this->client);
    }
}
